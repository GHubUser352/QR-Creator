<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>QR Creator Emerald</title>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Plus Jakarta Sans", sans-serif;
        overflow-x: hidden;
      }
      .glass {
        backdrop-filter: blur(25px);
      }
      canvas {
        width: 100% !important;
        height: auto !important;
        border-radius: 1.5rem;
      }
      .custom-scroll::-webkit-scrollbar {
        width: 4px;
        height: 4px;
      }
      .custom-scroll::-webkit-scrollbar-thumb {
        background: #10b981;
        border-radius: 10px;
      }
      .dropdown-container {
        position: relative;
      }
      .menu-down {
        position: absolute;
        top: 110%;
        left: 0;
        right: 0;
        z-index: 9999;
      }
      .menu-up {
        position: absolute;
        bottom: 110%;
        left: 0;
        right: 0;
        z-index: 9999;
      }
      .flag-img {
        width: 22px;
        height: 16px;
        object-fit: cover;
        border-radius: 2px;
      }
      @keyframes qr-generate {
        0% {
          opacity: 0.3;
          transform: scale(0.95);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }
      .qr-animate {
        animation: qr-generate 0.3s ease-out;
      }
      @media (max-width: 640px) {
        body {
          overflow-y: auto;
        }
        .mobile-compact {
          padding: 1rem !important;
        }
      }
    </style>
  </head>
  <body id="body-bg" class="h-screen flex items-center justify-center">
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect, useRef, useMemo, useCallback } = React;

      const Icon = ({ name, className }) => {
        useEffect(() => {
          if (window.lucide) window.lucide.createIcons();
        });
        return React.createElement("i", { "data-lucide": name, className });
      };

      const CustomSelect = ({
        value,
        onChange,
        options,
        isDarkMode,
        minWidth = "min-w-[140px]",
        direction = "down",
        isPhoneSelector = false,
      }) => {
        const [isOpen, setIsOpen] = useState(false);
        const [searchTerm, setSearchTerm] = useState("");
        const [highlightedIndex, setHighlightedIndex] = useState(-1);
        const dropdownRef = useRef(null);
        const inputRef = useRef(null);
        const optionRefs = useRef([]);

        useEffect(() => {
          if (!isOpen) {
            setSearchTerm("");
            setHighlightedIndex(-1);
          } else {
            setTimeout(() => inputRef.current?.focus(), 50);
          }
        }, [isOpen]);

        useEffect(() => {
          const handleClickOutside = (e) => {
            if (dropdownRef.current && !dropdownRef.current.contains(e.target))
              setIsOpen(false);
          };
          document.addEventListener("mousedown", handleClickOutside);
          return () =>
            document.removeEventListener("mousedown", handleClickOutside);
        }, []);

        const selectedOption = useMemo(
          () => options.find((o) => o.value === value) || options[0],
          [value, options],
        );

        const filteredOptions = useMemo(() => {
          if (!searchTerm.trim()) return options;
          const search = searchTerm.toLowerCase().trim();
          return options.filter((opt) => {
            const fields = [
              opt.label,
              opt.value,
              opt.displayLabel,
              opt.shortLabel,
            ]
              .filter(Boolean)
              .join(" ")
              .toLowerCase();
            return fields.includes(search);
          });
        }, [searchTerm, options]);

        const handleKeyDown = useCallback(
          (e) => {
            if (!isOpen) return;
            switch (e.key) {
              case "ArrowDown":
                e.preventDefault();
                setHighlightedIndex((prev) =>
                  prev < filteredOptions.length - 1 ? prev + 1 : prev,
                );
                break;
              case "ArrowUp":
                e.preventDefault();
                setHighlightedIndex((prev) => (prev > 0 ? prev - 1 : 0));
                break;
              case "Home":
                e.preventDefault();
                setHighlightedIndex(0);
                break;
              case "End":
                e.preventDefault();
                setHighlightedIndex(filteredOptions.length - 1);
                break;
              case "Enter":
                e.preventDefault();
                if (
                  highlightedIndex >= 0 &&
                  highlightedIndex < filteredOptions.length
                ) {
                  handleSelect(filteredOptions[highlightedIndex].value);
                }
                break;
              case "Escape":
                e.preventDefault();
                setIsOpen(false);
                break;
            }
          },
          [isOpen, highlightedIndex, filteredOptions],
        );

        useEffect(() => {
          if (highlightedIndex >= 0 && optionRefs.current[highlightedIndex]) {
            optionRefs.current[highlightedIndex]?.scrollIntoView({
              block: "nearest",
              behavior: "smooth",
            });
          }
        }, [highlightedIndex]);

        useEffect(() => {
          if (isOpen) {
            window.addEventListener("keydown", handleKeyDown);
            return () => window.removeEventListener("keydown", handleKeyDown);
          }
        }, [isOpen, handleKeyDown]);

        const handleSelect = useCallback(
          (optValue) => {
            onChange(optValue);
            setIsOpen(false);
            setSearchTerm("");
          },
          [onChange],
        );

        return (
          <div
            className={`dropdown-container flex-shrink-0 ${minWidth}`}
            ref={dropdownRef}
          >
            <button
              type="button"
              onClick={() => setIsOpen(!isOpen)}
              className={`flex items-center justify-between gap-2 px-4 py-3.5 rounded-xl font-bold transition-all border-2 w-full ${isDarkMode ? "bg-emerald-900/60 border-emerald-500/40 text-emerald-50" : "bg-white border-emerald-200 text-emerald-900"}`}
            >
              <span className="flex items-center gap-2 truncate">
                {selectedOption.flagCode && (
                  <img
                    src={`https://flagcdn.com/w40/${selectedOption.flagCode}.png`}
                    className="flag-img"
                    loading="lazy"
                    alt=""
                  />
                )}
                <span className="text-sm">
                  {selectedOption.shortLabel || selectedOption.value}
                </span>
              </span>
              <Icon
                name="chevron-down"
                className={`w-3 h-3 transition-transform ${isOpen ? "rotate-180" : ""}`}
              />
            </button>
            {isOpen && (
              <div
                className={`${direction === "up" ? "menu-up" : "menu-down"} rounded-2xl shadow-2xl border glass ${isDarkMode ? "bg-slate-900 border-emerald-700" : "bg-white border-emerald-100"}`}
              >
                <div
                  className={`sticky top-0 p-2 border-b z-10 ${isDarkMode ? "border-emerald-800 bg-slate-900" : "border-emerald-100 bg-white"}`}
                >
                  <input
                    ref={inputRef}
                    type="text"
                    placeholder="Search..."
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                    onClick={(e) => e.stopPropagation()}
                    onMouseDown={(e) => e.stopPropagation()}
                    className={`w-full px-3 py-2 rounded-lg text-sm outline-none ${isDarkMode ? "bg-emerald-900/30 border border-emerald-700 text-emerald-50 placeholder-emerald-500/50" : "bg-emerald-50 border border-emerald-200 text-emerald-900 placeholder-emerald-400"}`}
                    autoComplete="off"
                  />
                </div>
                <div className="py-2 custom-scroll max-h-52 overflow-y-auto">
                  {filteredOptions.length > 0 ? (
                    filteredOptions.map((opt, i) => (
                      <div
                        key={`${opt.value}-${i}`}
                        ref={(el) => (optionRefs.current[i] = el)}
                        onClick={() => handleSelect(opt.value)}
                        onMouseEnter={() => setHighlightedIndex(i)}
                        className={`px-4 py-3.5 cursor-pointer flex items-center justify-between transition-colors ${i === highlightedIndex ? (isDarkMode ? "bg-emerald-600/60" : "bg-emerald-100") : isDarkMode ? "hover:bg-emerald-600/40 text-emerald-50" : "hover:bg-emerald-50 text-emerald-900"} ${isDarkMode ? "text-emerald-50" : "text-emerald-900"}`}
                      >
                        <span className="flex items-center gap-3 flex-1 min-w-0">
                          {opt.flagCode && (
                            <img
                              src={`https://flagcdn.com/w40/${opt.flagCode}.png`}
                              className="flag-img flex-shrink-0"
                              loading="lazy"
                              alt=""
                            />
                          )}
                          <span
                            className={`font-bold tracking-tight truncate ${isPhoneSelector ? "text-[11px]" : "text-sm"}`}
                          >
                            {opt.displayLabel || opt.label}
                          </span>
                        </span>
                        {value === opt.value && (
                          <Icon
                            name="check"
                            className="w-4 h-4 text-emerald-400 flex-shrink-0 ml-2"
                          />
                        )}
                      </div>
                    ))
                  ) : (
                    <div
                      className={`px-4 py-6 text-center text-sm ${isDarkMode ? "text-emerald-500/50" : "text-emerald-400"}`}
                    >
                      No results found
                    </div>
                  )}
                </div>
              </div>
            )}
          </div>
        );
      };

      const COUNTRY_DATA = {
        "+1": {
          flag: "us",
          label: "(+1) USA",
          shortLabel: "USA",
          max: 10,
          placeholder: "XXX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+1-ca": {
          flag: "ca",
          label: "(+1) Canada",
          shortLabel: "Canada",
          max: 10,
          placeholder: "XXX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+7": {
          flag: "ru",
          label: "(+7) Russia",
          shortLabel: "Russia",
          max: 10,
          placeholder: "XXX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+20": {
          flag: "eg",
          label: "(+20) Egypt",
          shortLabel: "Egypt",
          max: 10,
          placeholder: "1X XXXX XXXX",
          pattern: [2, 4, 4],
        },
        "+27": {
          flag: "za",
          label: "(+27) South Africa",
          shortLabel: "S. Africa",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+30": {
          flag: "gr",
          label: "(+30) Greece",
          shortLabel: "Greece",
          max: 10,
          placeholder: "XXX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+31": {
          flag: "nl",
          label: "(+31) Netherlands",
          shortLabel: "Netherlands",
          max: 9,
          placeholder: "X XXXXXXXX",
          pattern: [1, 8],
        },
        "+32": {
          flag: "be",
          label: "(+32) Belgium",
          shortLabel: "Belgium",
          max: 9,
          placeholder: "XXX XX XX XX",
          pattern: [3, 2, 2, 2],
        },
        "+33": {
          flag: "fr",
          label: "(+33) France",
          shortLabel: "France",
          max: 9,
          placeholder: "X XX XX XX XX",
          pattern: [1, 2, 2, 2, 2],
        },
        "+34": {
          flag: "es",
          label: "(+34) Spain",
          shortLabel: "Spain",
          max: 9,
          placeholder: "XXX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+36": {
          flag: "hu",
          label: "(+36) Hungary",
          shortLabel: "Hungary",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+39": {
          flag: "it",
          label: "(+39) Italy",
          shortLabel: "Italy",
          max: 10,
          placeholder: "3XX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+40": {
          flag: "ro",
          label: "(+40) Romania",
          shortLabel: "Romania",
          max: 9,
          placeholder: "7XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+41": {
          flag: "ch",
          label: "(+41) Switzerland",
          shortLabel: "Switzerland",
          max: 9,
          placeholder: "XX XXX XX XX",
          pattern: [2, 3, 2, 2],
        },
        "+43": {
          flag: "at",
          label: "(+43) Austria",
          shortLabel: "Austria",
          max: 10,
          placeholder: "XXX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+44": {
          flag: "gb",
          label: "(+44) United Kingdom",
          shortLabel: "UK",
          max: 10,
          placeholder: "XXXX XXX XXX",
          pattern: [4, 3, 3],
        },
        "+45": {
          flag: "dk",
          label: "(+45) Denmark",
          shortLabel: "Denmark",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+46": {
          flag: "se",
          label: "(+46) Sweden",
          shortLabel: "Sweden",
          max: 9,
          placeholder: "XX XXX XX XX",
          pattern: [2, 3, 2, 2],
        },
        "+47": {
          flag: "no",
          label: "(+47) Norway",
          shortLabel: "Norway",
          max: 8,
          placeholder: "XXX XX XXX",
          pattern: [3, 2, 3],
        },
        "+48": {
          flag: "pl",
          label: "(+48) Poland",
          shortLabel: "Poland",
          max: 9,
          placeholder: "XXX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+49": {
          flag: "de",
          label: "(+49) Germany",
          shortLabel: "Germany",
          max: 11,
          placeholder: "XXX XXXXXXXX",
          pattern: [3, 8],
        },
        "+51": {
          flag: "pe",
          label: "(+51) Peru",
          shortLabel: "Peru",
          max: 9,
          placeholder: "9XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+52": {
          flag: "mx",
          label: "(+52) Mexico",
          shortLabel: "Mexico",
          max: 10,
          placeholder: "XX XXXX XXXX",
          pattern: [2, 4, 4],
        },
        "+53": {
          flag: "cu",
          label: "(+53) Cuba",
          shortLabel: "Cuba",
          max: 8,
          placeholder: "X XXX XXXX",
          pattern: [1, 3, 4],
        },
        "+54": {
          flag: "ar",
          label: "(+54) Argentina",
          shortLabel: "Argentina",
          max: 10,
          placeholder: "XX XXXX XXXX",
          pattern: [2, 4, 4],
        },
        "+55": {
          flag: "br",
          label: "(+55) Brazil",
          shortLabel: "Brazil",
          max: 11,
          placeholder: "XX 9XXXX XXXX",
          pattern: [2, 5, 4],
        },
        "+56": {
          flag: "cl",
          label: "(+56) Chile",
          shortLabel: "Chile",
          max: 9,
          placeholder: "9 XXXX XXXX",
          pattern: [1, 4, 4],
        },
        "+57": {
          flag: "co",
          label: "(+57) Colombia",
          shortLabel: "Colombia",
          max: 10,
          placeholder: "3XX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+58": {
          flag: "ve",
          label: "(+58) Venezuela",
          shortLabel: "Venezuela",
          max: 10,
          placeholder: "4XX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+60": {
          flag: "my",
          label: "(+60) Malaysia",
          shortLabel: "Malaysia",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+61": {
          flag: "au",
          label: "(+61) Australia",
          shortLabel: "Australia",
          max: 9,
          placeholder: "4XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+62": {
          flag: "id",
          label: "(+62) Indonesia",
          shortLabel: "Indonesia",
          max: 11,
          placeholder: "8XX XXXX XXXX",
          pattern: [3, 4, 4],
        },
        "+63": {
          flag: "ph",
          label: "(+63) Philippines",
          shortLabel: "Philippines",
          max: 10,
          placeholder: "9XX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+64": {
          flag: "nz",
          label: "(+64) New Zealand",
          shortLabel: "N. Zealand",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+65": {
          flag: "sg",
          label: "(+65) Singapore",
          shortLabel: "Singapore",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+66": {
          flag: "th",
          label: "(+66) Thailand",
          shortLabel: "Thailand",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+81": {
          flag: "jp",
          label: "(+81) Japan",
          shortLabel: "Japan",
          max: 10,
          placeholder: "XX XXXX XXXX",
          pattern: [2, 4, 4],
        },
        "+82": {
          flag: "kr",
          label: "(+82) South Korea",
          shortLabel: "S. Korea",
          max: 10,
          placeholder: "10 XXXX XXXX",
          pattern: [2, 4, 4],
        },
        "+84": {
          flag: "vn",
          label: "(+84) Vietnam",
          shortLabel: "Vietnam",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+86": {
          flag: "cn",
          label: "(+86) China",
          shortLabel: "China",
          max: 11,
          placeholder: "XXX XXXX XXXX",
          pattern: [3, 4, 4],
        },
        "+90": {
          flag: "tr",
          label: "(+90) Turkey",
          shortLabel: "Turkey",
          max: 10,
          placeholder: "5XX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+91": {
          flag: "in",
          label: "(+91) India",
          shortLabel: "India",
          max: 10,
          placeholder: "XXXXX XXXXX",
          pattern: [5, 5],
        },
        "+92": {
          flag: "pk",
          label: "(+92) Pakistan",
          shortLabel: "Pakistan",
          max: 10,
          placeholder: "3XX XXXXXXX",
          pattern: [3, 7],
        },
        "+93": {
          flag: "af",
          label: "(+93) Afghanistan",
          shortLabel: "Afghanistan",
          max: 9,
          placeholder: "7X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+94": {
          flag: "lk",
          label: "(+94) Sri Lanka",
          shortLabel: "Sri Lanka",
          max: 9,
          placeholder: "7X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+95": {
          flag: "mm",
          label: "(+95) Myanmar",
          shortLabel: "Myanmar",
          max: 9,
          placeholder: "9 XXX XXXXX",
          pattern: [1, 3, 5],
        },
        "+98": {
          flag: "ir",
          label: "(+98) Iran",
          shortLabel: "Iran",
          max: 10,
          placeholder: "9XX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+212": {
          flag: "ma",
          label: "(+212) Morocco",
          shortLabel: "Morocco",
          max: 9,
          placeholder: "X XX XX XX XX",
          pattern: [1, 2, 2, 2, 2],
        },
        "+213": {
          flag: "dz",
          label: "(+213) Algeria",
          shortLabel: "Algeria",
          max: 9,
          placeholder: "X XX XX XX XX",
          pattern: [1, 2, 2, 2, 2],
        },
        "+216": {
          flag: "tn",
          label: "(+216) Tunisia",
          shortLabel: "Tunisia",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+218": {
          flag: "ly",
          label: "(+218) Libya",
          shortLabel: "Libya",
          max: 9,
          placeholder: "9X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+220": {
          flag: "gm",
          label: "(+220) Gambia",
          shortLabel: "Gambia",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+221": {
          flag: "sn",
          label: "(+221) Senegal",
          shortLabel: "Senegal",
          max: 9,
          placeholder: "7X XXX XX XX",
          pattern: [2, 3, 2, 2],
        },
        "+222": {
          flag: "mr",
          label: "(+222) Mauritania",
          shortLabel: "Mauritania",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+223": {
          flag: "ml",
          label: "(+223) Mali",
          shortLabel: "Mali",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+224": {
          flag: "gn",
          label: "(+224) Guinea",
          shortLabel: "Guinea",
          max: 9,
          placeholder: "6XX XX XX XX",
          pattern: [3, 2, 2, 2],
        },
        "+225": {
          flag: "ci",
          label: "(+225) Ivory Coast",
          shortLabel: "Ivory Coast",
          max: 10,
          placeholder: "XX XX XX XX XX",
          pattern: [2, 2, 2, 2, 2],
        },
        "+226": {
          flag: "bf",
          label: "(+226) Burkina Faso",
          shortLabel: "Burkina Faso",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+227": {
          flag: "ne",
          label: "(+227) Niger",
          shortLabel: "Niger",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+228": {
          flag: "tg",
          label: "(+228) Togo",
          shortLabel: "Togo",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+229": {
          flag: "bj",
          label: "(+229) Benin",
          shortLabel: "Benin",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+230": {
          flag: "mu",
          label: "(+230) Mauritius",
          shortLabel: "Mauritius",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+231": {
          flag: "lr",
          label: "(+231) Liberia",
          shortLabel: "Liberia",
          max: 8,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+232": {
          flag: "sl",
          label: "(+232) Sierra Leone",
          shortLabel: "Sierra Leone",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+233": {
          flag: "gh",
          label: "(+233) Ghana",
          shortLabel: "Ghana",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+234": {
          flag: "ng",
          label: "(+234) Nigeria",
          shortLabel: "Nigeria",
          max: 10,
          placeholder: "XXX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+235": {
          flag: "td",
          label: "(+235) Chad",
          shortLabel: "Chad",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+236": {
          flag: "cf",
          label: "(+236) Central African Rep",
          shortLabel: "CAR",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+237": {
          flag: "cm",
          label: "(+237) Cameroon",
          shortLabel: "Cameroon",
          max: 9,
          placeholder: "6 XX XX XX XX",
          pattern: [1, 2, 2, 2, 2],
        },
        "+238": {
          flag: "cv",
          label: "(+238) Cape Verde",
          shortLabel: "Cape Verde",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+239": {
          flag: "st",
          label: "(+239) São Tomé",
          shortLabel: "São Tomé",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+240": {
          flag: "gq",
          label: "(+240) Equatorial Guinea",
          shortLabel: "Eq. Guinea",
          max: 9,
          placeholder: "XXX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+241": {
          flag: "ga",
          label: "(+241) Gabon",
          shortLabel: "Gabon",
          max: 8,
          placeholder: "X XX XX XX",
          pattern: [1, 2, 2, 2],
        },
        "+242": {
          flag: "cg",
          label: "(+242) Congo",
          shortLabel: "Congo",
          max: 9,
          placeholder: "X XX XX XX XX",
          pattern: [1, 2, 2, 2, 2],
        },
        "+243": {
          flag: "cd",
          label: "(+243) DR Congo",
          shortLabel: "DR Congo",
          max: 9,
          placeholder: "XXX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+244": {
          flag: "ao",
          label: "(+244) Angola",
          shortLabel: "Angola",
          max: 9,
          placeholder: "9XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+245": {
          flag: "gw",
          label: "(+245) Guinea-Bissau",
          shortLabel: "G-Bissau",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+246": {
          flag: "io",
          label: "(+246) Diego Garcia",
          shortLabel: "Diego Garcia",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+248": {
          flag: "sc",
          label: "(+248) Seychelles",
          shortLabel: "Seychelles",
          max: 7,
          placeholder: "X XXX XXX",
          pattern: [1, 3, 3],
        },
        "+249": {
          flag: "sd",
          label: "(+249) Sudan",
          shortLabel: "Sudan",
          max: 9,
          placeholder: "9X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+250": {
          flag: "rw",
          label: "(+250) Rwanda",
          shortLabel: "Rwanda",
          max: 9,
          placeholder: "7XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+251": {
          flag: "et",
          label: "(+251) Ethiopia",
          shortLabel: "Ethiopia",
          max: 9,
          placeholder: "9X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+252": {
          flag: "so",
          label: "(+252) Somalia",
          shortLabel: "Somalia",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+253": {
          flag: "dj",
          label: "(+253) Djibouti",
          shortLabel: "Djibouti",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+254": {
          flag: "ke",
          label: "(+254) Kenya",
          shortLabel: "Kenya",
          max: 9,
          placeholder: "7XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+255": {
          flag: "tz",
          label: "(+255) Tanzania",
          shortLabel: "Tanzania",
          max: 9,
          placeholder: "7XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+256": {
          flag: "ug",
          label: "(+256) Uganda",
          shortLabel: "Uganda",
          max: 9,
          placeholder: "7XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+257": {
          flag: "bi",
          label: "(+257) Burundi",
          shortLabel: "Burundi",
          max: 8,
          placeholder: "XX XX XX XX",
          pattern: [2, 2, 2, 2],
        },
        "+258": {
          flag: "mz",
          label: "(+258) Mozambique",
          shortLabel: "Mozambique",
          max: 9,
          placeholder: "8X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+260": {
          flag: "zm",
          label: "(+260) Zambia",
          shortLabel: "Zambia",
          max: 9,
          placeholder: "9X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+261": {
          flag: "mg",
          label: "(+261) Madagascar",
          shortLabel: "Madagascar",
          max: 9,
          placeholder: "XX XX XXX XX",
          pattern: [2, 2, 3, 2],
        },
        "+262": {
          flag: "re",
          label: "(+262) Réunion",
          shortLabel: "Réunion",
          max: 9,
          placeholder: "XXX XX XX XX",
          pattern: [3, 2, 2, 2],
        },
        "+263": {
          flag: "zw",
          label: "(+263) Zimbabwe",
          shortLabel: "Zimbabwe",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+264": {
          flag: "na",
          label: "(+264) Namibia",
          shortLabel: "Namibia",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+265": {
          flag: "mw",
          label: "(+265) Malawi",
          shortLabel: "Malawi",
          max: 9,
          placeholder: "X XXXX XXXX",
          pattern: [1, 4, 4],
        },
        "+266": {
          flag: "ls",
          label: "(+266) Lesotho",
          shortLabel: "Lesotho",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+267": {
          flag: "bw",
          label: "(+267) Botswana",
          shortLabel: "Botswana",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+268": {
          flag: "sz",
          label: "(+268) Eswatini",
          shortLabel: "Eswatini",
          max: 8,
          placeholder: "XX XX XXXX",
          pattern: [2, 2, 4],
        },
        "+269": {
          flag: "km",
          label: "(+269) Comoros",
          shortLabel: "Comoros",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+290": {
          flag: "sh",
          label: "(+290) Saint Helena",
          shortLabel: "St Helena",
          max: 4,
          placeholder: "XXXX",
          pattern: [4],
        },
        "+291": {
          flag: "er",
          label: "(+291) Eritrea",
          shortLabel: "Eritrea",
          max: 7,
          placeholder: "X XXX XXX",
          pattern: [1, 3, 3],
        },
        "+297": {
          flag: "aw",
          label: "(+297) Aruba",
          shortLabel: "Aruba",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+298": {
          flag: "fo",
          label: "(+298) Faroe Islands",
          shortLabel: "Faroe",
          max: 6,
          placeholder: "XXX XXX",
          pattern: [3, 3],
        },
        "+299": {
          flag: "gl",
          label: "(+299) Greenland",
          shortLabel: "Greenland",
          max: 6,
          placeholder: "XX XX XX",
          pattern: [2, 2, 2],
        },
        "+350": {
          flag: "gi",
          label: "(+350) Gibraltar",
          shortLabel: "Gibraltar",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+351": {
          flag: "pt",
          label: "(+351) Portugal",
          shortLabel: "Portugal",
          max: 9,
          placeholder: "9XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+352": {
          flag: "lu",
          label: "(+352) Luxembourg",
          shortLabel: "Luxembourg",
          max: 9,
          placeholder: "XXX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+353": {
          flag: "ie",
          label: "(+353) Ireland",
          shortLabel: "Ireland",
          max: 9,
          placeholder: "8X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+354": {
          flag: "is",
          label: "(+354) Iceland",
          shortLabel: "Iceland",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+355": {
          flag: "al",
          label: "(+355) Albania",
          shortLabel: "Albania",
          max: 9,
          placeholder: "6X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+356": {
          flag: "mt",
          label: "(+356) Malta",
          shortLabel: "Malta",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+357": {
          flag: "cy",
          label: "(+357) Cyprus",
          shortLabel: "Cyprus",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+358": {
          flag: "fi",
          label: "(+358) Finland",
          shortLabel: "Finland",
          max: 10,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+359": {
          flag: "bg",
          label: "(+359) Bulgaria",
          shortLabel: "Bulgaria",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+370": {
          flag: "lt",
          label: "(+370) Lithuania",
          shortLabel: "Lithuania",
          max: 8,
          placeholder: "6XX XXXXX",
          pattern: [3, 5],
        },
        "+371": {
          flag: "lv",
          label: "(+371) Latvia",
          shortLabel: "Latvia",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+372": {
          flag: "ee",
          label: "(+372) Estonia",
          shortLabel: "Estonia",
          max: 8,
          placeholder: "XXX XXXXX",
          pattern: [3, 5],
        },
        "+373": {
          flag: "md",
          label: "(+373) Moldova",
          shortLabel: "Moldova",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+374": {
          flag: "am",
          label: "(+374) Armenia",
          shortLabel: "Armenia",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+375": {
          flag: "by",
          label: "(+375) Belarus",
          shortLabel: "Belarus",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+376": {
          flag: "ad",
          label: "(+376) Andorra",
          shortLabel: "Andorra",
          max: 6,
          placeholder: "XXX XXX",
          pattern: [3, 3],
        },
        "+377": {
          flag: "mc",
          label: "(+377) Monaco",
          shortLabel: "Monaco",
          max: 9,
          placeholder: "XX XX XX XX X",
          pattern: [2, 2, 2, 2, 1],
        },
        "+378": {
          flag: "sm",
          label: "(+378) San Marino",
          shortLabel: "San Marino",
          max: 10,
          placeholder: "XXXX XXXXXX",
          pattern: [4, 6],
        },
        "+380": {
          flag: "ua",
          label: "(+380) Ukraine",
          shortLabel: "Ukraine",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+381": {
          flag: "rs",
          label: "(+381) Serbia",
          shortLabel: "Serbia",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+382": {
          flag: "me",
          label: "(+382) Montenegro",
          shortLabel: "Montenegro",
          max: 8,
          placeholder: "6X XXX XXX",
          pattern: [2, 3, 3],
        },
        "+383": {
          flag: "xk",
          label: "(+383) Kosovo",
          shortLabel: "Kosovo",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+385": {
          flag: "hr",
          label: "(+385) Croatia",
          shortLabel: "Croatia",
          max: 9,
          placeholder: "9X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+386": {
          flag: "si",
          label: "(+386) Slovenia",
          shortLabel: "Slovenia",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+387": {
          flag: "ba",
          label: "(+387) Bosnia",
          shortLabel: "Bosnia",
          max: 8,
          placeholder: "6X XXX XXX",
          pattern: [2, 3, 3],
        },
        "+389": {
          flag: "mk",
          label: "(+389) N. Macedonia",
          shortLabel: "N. Macedonia",
          max: 8,
          placeholder: "7X XXX XXX",
          pattern: [2, 3, 3],
        },
        "+420": {
          flag: "cz",
          label: "(+420) Czechia",
          shortLabel: "Czechia",
          max: 9,
          placeholder: "XXX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+421": {
          flag: "sk",
          label: "(+421) Slovakia",
          shortLabel: "Slovakia",
          max: 9,
          placeholder: "9XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+423": {
          flag: "li",
          label: "(+423) Liechtenstein",
          shortLabel: "Liechtenstein",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+500": {
          flag: "fk",
          label: "(+500) Falklands",
          shortLabel: "Falklands",
          max: 5,
          placeholder: "XXXXX",
          pattern: [5],
        },
        "+501": {
          flag: "bz",
          label: "(+501) Belize",
          shortLabel: "Belize",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+502": {
          flag: "gt",
          label: "(+502) Guatemala",
          shortLabel: "Guatemala",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+503": {
          flag: "sv",
          label: "(+503) El Salvador",
          shortLabel: "El Salvador",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+504": {
          flag: "hn",
          label: "(+504) Honduras",
          shortLabel: "Honduras",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+505": {
          flag: "ni",
          label: "(+505) Nicaragua",
          shortLabel: "Nicaragua",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+506": {
          flag: "cr",
          label: "(+506) Costa Rica",
          shortLabel: "Costa Rica",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+507": {
          flag: "pa",
          label: "(+507) Panama",
          shortLabel: "Panama",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+509": {
          flag: "ht",
          label: "(+509) Haiti",
          shortLabel: "Haiti",
          max: 8,
          placeholder: "XX XX XXXX",
          pattern: [2, 2, 4],
        },
        "+590": {
          flag: "gp",
          label: "(+590) Guadeloupe",
          shortLabel: "Guadeloupe",
          max: 9,
          placeholder: "XXX XX XX XX",
          pattern: [3, 2, 2, 2],
        },
        "+591": {
          flag: "bo",
          label: "(+591) Bolivia",
          shortLabel: "Bolivia",
          max: 8,
          placeholder: "X XXX XXXX",
          pattern: [1, 3, 4],
        },
        "+592": {
          flag: "gy",
          label: "(+592) Guyana",
          shortLabel: "Guyana",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+593": {
          flag: "ec",
          label: "(+593) Ecuador",
          shortLabel: "Ecuador",
          max: 9,
          placeholder: "9X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+594": {
          flag: "gf",
          label: "(+594) Fr. Guiana",
          shortLabel: "Fr. Guiana",
          max: 9,
          placeholder: "XXX XX XX XX",
          pattern: [3, 2, 2, 2],
        },
        "+595": {
          flag: "py",
          label: "(+595) Paraguay",
          shortLabel: "Paraguay",
          max: 9,
          placeholder: "9XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+596": {
          flag: "mq",
          label: "(+596) Martinique",
          shortLabel: "Martinique",
          max: 9,
          placeholder: "XXX XX XX XX",
          pattern: [3, 2, 2, 2],
        },
        "+597": {
          flag: "sr",
          label: "(+597) Suriname",
          shortLabel: "Suriname",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+598": {
          flag: "uy",
          label: "(+598) Uruguay",
          shortLabel: "Uruguay",
          max: 8,
          placeholder: "9X XXX XXX",
          pattern: [2, 3, 3],
        },
        "+599": {
          flag: "cw",
          label: "(+599) Curaçao",
          shortLabel: "Curaçao",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+670": {
          flag: "tl",
          label: "(+670) Timor-Leste",
          shortLabel: "Timor-Leste",
          max: 8,
          placeholder: "7XXX XXXX",
          pattern: [4, 4],
        },
        "+852": {
          flag: "hk",
          label: "(+852) Hong Kong",
          shortLabel: "Hong Kong",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+853": {
          flag: "mo",
          label: "(+853) Macau",
          shortLabel: "Macau",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+855": {
          flag: "kh",
          label: "(+855) Cambodia",
          shortLabel: "Cambodia",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+856": {
          flag: "la",
          label: "(+856) Laos",
          shortLabel: "Laos",
          max: 10,
          placeholder: "20 XX XXX XXX",
          pattern: [2, 2, 3, 3],
        },
        "+880": {
          flag: "bd",
          label: "(+880) Bangladesh",
          shortLabel: "Bangladesh",
          max: 10,
          placeholder: "1X XXXX XXXX",
          pattern: [2, 4, 4],
        },
        "+960": {
          flag: "mv",
          label: "(+960) Maldives",
          shortLabel: "Maldives",
          max: 7,
          placeholder: "XXX XXXX",
          pattern: [3, 4],
        },
        "+961": {
          flag: "lb",
          label: "(+961) Lebanon",
          shortLabel: "Lebanon",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+962": {
          flag: "jo",
          label: "(+962) Jordan",
          shortLabel: "Jordan",
          max: 9,
          placeholder: "7X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+963": {
          flag: "sy",
          label: "(+963) Syria",
          shortLabel: "Syria",
          max: 9,
          placeholder: "9XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+964": {
          flag: "iq",
          label: "(+964) Iraq",
          shortLabel: "Iraq",
          max: 10,
          placeholder: "7XX XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+965": {
          flag: "kw",
          label: "(+965) Kuwait",
          shortLabel: "Kuwait",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+966": {
          flag: "sa",
          label: "(+966) Saudi Arabia",
          shortLabel: "Saudi Arabia",
          max: 9,
          placeholder: "5X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+967": {
          flag: "ye",
          label: "(+967) Yemen",
          shortLabel: "Yemen",
          max: 9,
          placeholder: "7XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+968": {
          flag: "om",
          label: "(+968) Oman",
          shortLabel: "Oman",
          max: 8,
          placeholder: "9XXX XXXX",
          pattern: [4, 4],
        },
        "+970": {
          flag: "ps",
          label: "(+970) Palestine",
          shortLabel: "Palestine",
          max: 9,
          placeholder: "5XX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+971": {
          flag: "ae",
          label: "(+971) UAE",
          shortLabel: "UAE",
          max: 9,
          placeholder: "5X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+972": {
          flag: "il",
          label: "(+972) Israel",
          shortLabel: "Israel",
          max: 9,
          placeholder: "5X XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+973": {
          flag: "bh",
          label: "(+973) Bahrain",
          shortLabel: "Bahrain",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+974": {
          flag: "qa",
          label: "(+974) Qatar",
          shortLabel: "Qatar",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+975": {
          flag: "bt",
          label: "(+975) Bhutan",
          shortLabel: "Bhutan",
          max: 8,
          placeholder: "XX XXX XXX",
          pattern: [2, 3, 3],
        },
        "+976": {
          flag: "mn",
          label: "(+976) Mongolia",
          shortLabel: "Mongolia",
          max: 8,
          placeholder: "XXXX XXXX",
          pattern: [4, 4],
        },
        "+977": {
          flag: "np",
          label: "(+977) Nepal",
          shortLabel: "Nepal",
          max: 10,
          placeholder: "98X XXX XXXX",
          pattern: [3, 3, 4],
        },
        "+992": {
          flag: "tj",
          label: "(+992) Tajikistan",
          shortLabel: "Tajikistan",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+993": {
          flag: "tm",
          label: "(+993) Turkmenistan",
          shortLabel: "Turkmenistan",
          max: 8,
          placeholder: "XX XXXXXX",
          pattern: [2, 6],
        },
        "+994": {
          flag: "az",
          label: "(+994) Azerbaijan",
          shortLabel: "Azerbaijan",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
        "+995": {
          flag: "ge",
          label: "(+995) Georgia",
          shortLabel: "Georgia",
          max: 9,
          placeholder: "XXX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+996": {
          flag: "kg",
          label: "(+996) Kyrgyzstan",
          shortLabel: "Kyrgyzstan",
          max: 9,
          placeholder: "XXX XXX XXX",
          pattern: [3, 3, 3],
        },
        "+998": {
          flag: "uz",
          label: "(+998) Uzbekistan",
          shortLabel: "Uzbekistan",
          max: 9,
          placeholder: "XX XXX XXXX",
          pattern: [2, 3, 4],
        },
      };

      const App = () => {
        const [isDarkMode, setIsDarkMode] = useState(true);
        const [activeTab, setActiveTab] = useState("url");
        const [protocol, setProtocol] = useState("https://");
        const [url, setUrl] = useState("");
        const [copyStatus, setCopyStatus] = useState(false);
        const [isGenerating, setIsGenerating] = useState(false);
        const [wifi, setWifi] = useState({
          ssid: "",
          password: "",
          security: "WPA",
        });
        const [contact, setContact] = useState({
          fn: "",
          ln: "",
          tel: "",
          phonePrefix: "+1",
          emailUser: "",
          emailDomain: "@gmail.com",
        });
        const [sms, setSms] = useState({
          phonePrefix: "+1",
          tel: "",
          message: "",
        });
        const [crypto, setCrypto] = useState({
          blockchain: "bitcoin",
          address: "",
          amount: "",
        });
        const [geo, setGeo] = useState({
          latitude: "",
          longitude: "",
          label: "",
          useAddress: false,
          address: "",
        });
        const qrRef = useRef(null);

        const formatPhone = useCallback((digits, pattern) => {
          let res = "",
            ptr = 0;
          for (let i = 0; i < pattern.length && ptr < digits.length; i++) {
            res += digits.substring(ptr, ptr + pattern[i]) + " ";
            ptr += pattern[i];
          }
          return res.trim();
        }, []);

        const getUrlPlaceholder = useCallback(() => {
          switch (protocol) {
            case "https://":
            case "http://":
            case "ftp://":
            case "ftps://":
              return "example.com";
            case "mailto:":
              return "contact@example.com";
            case "tel:":
              return "+1234567890";
            case "sms:":
              return "+1234567890";
            default:
              return "example.com";
          }
        }, [protocol]);

        const currentCountry = COUNTRY_DATA[contact.phonePrefix];
        const smsCountry = COUNTRY_DATA[sms.phonePrefix];
        const rawTel = contact.tel.replace(/\s/g, "");
        const smsRawTel = sms.tel.replace(/\s/g, "");

        const isUrlValid = protocol.startsWith("mailto:")
          ? /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(url)
          : protocol.startsWith("tel:") || protocol.startsWith("sms:")
            ? /^\+?[0-9]{7,15}$/.test(url.replace(/\s/g, ""))
            : url.includes(".") && url.split(".").every((p) => p.length > 0);
        const isEmailValid = /^[a-zA-Z0-9._%+-]+$/.test(contact.emailUser);
        const isPhoneValid =
          rawTel.length >= 8 && rawTel.length <= currentCountry.max;
        const isWifiValid = wifi.ssid.length > 0;
        const isSmsValid =
          smsRawTel.length >= 8 &&
          smsRawTel.length <= smsCountry.max &&
          sms.message.length > 0;
        const cryptoRegex = {
          bitcoin: /^(bc1|[13])[a-zA-HJ-NP-Z0-9]{25,62}$/,
          ethereum: /^0x[a-fA-F0-9]{40}$/,
          usdt: /^0x[a-fA-F0-9]{40}$/,
          bnb: /^0x[a-fA-F0-9]{40}$/,
          solana: /^[1-9A-HJ-NP-Za-km-z]{32,44}$/,
          xrp: /^r[a-zA-Z0-9]{24,34}$/,
          cardano: /^addr1[a-z0-9]{58,}$/,
          dogecoin: /^D[5-9A-HJ-NP-U][1-9A-HJ-NP-Za-km-z]{32}$/,
          tron: /^T[a-zA-Z0-9]{33}$/,
          polkadot: /^1[a-zA-Z0-9]{47}$/,
          litecoin: /^[LM][a-zA-Z0-9]{33}$/,
          avalanche: /^(X-|P-)?avax[a-z0-9]{39}$/,
        };
        const isCryptoValid =
          cryptoRegex[crypto.blockchain]?.test(crypto.address) || false;
        const isGeoValid = geo.useAddress
          ? geo.address.length > 5
          : geo.latitude !== "" &&
            geo.longitude !== "" &&
            parseFloat(geo.latitude) >= -90 &&
            parseFloat(geo.latitude) <= 90 &&
            parseFloat(geo.longitude) >= -180 &&
            parseFloat(geo.longitude) <= 180;

        const hasData =
          activeTab === "url"
            ? isUrlValid
            : activeTab === "wifi"
              ? isWifiValid
              : activeTab === "sms"
                ? isSmsValid
                : activeTab === "crypto"
                  ? isCryptoValid
                  : activeTab === "geo"
                    ? isGeoValid
                    : contact.fn || contact.ln || isPhoneValid || isEmailValid;

        useEffect(() => {
          document.getElementById("body-bg").className = isDarkMode
            ? "bg-[#011612] h-screen flex items-center justify-center"
            : "bg-emerald-50 h-screen flex items-center justify-center";
        }, [isDarkMode]);

        useEffect(() => {
          if (!qrRef.current) return;
          setIsGenerating(true);
          const timer = setTimeout(() => setIsGenerating(false), 300);
          if (!hasData) {
            const ctx = qrRef.current.getContext("2d");
            ctx.clearRect(0, 0, qrRef.current.width, qrRef.current.height);
            setIsGenerating(false);
            return () => clearTimeout(timer);
          }
          let data = "";
          if (activeTab === "url") data = `${protocol}${url}`;
          else if (activeTab === "wifi")
            data = `WIFI:S:${wifi.ssid};T:${wifi.security};P:${wifi.password};;`;
          else if (activeTab === "sms")
            data = `SMSTO:${sms.phonePrefix.split("-")[0]}${smsRawTel}:${sms.message}`;
          else if (activeTab === "crypto") {
            const prefixes = {
              bitcoin: "bitcoin:",
              ethereum: "ethereum:",
              usdt: "ethereum:",
              bnb: "ethereum:",
              solana: "solana:",
              xrp: "xrp:",
              cardano: "cardano:",
              dogecoin: "dogecoin:",
              tron: "tron:",
              polkadot: "polkadot:",
              litecoin: "litecoin:",
              avalanche: "avalanche:",
            };
            data = `${prefixes[crypto.blockchain]}${crypto.address}${crypto.amount ? `?amount=${crypto.amount}` : ""}`;
          } else if (activeTab === "geo") {
            if (geo.useAddress) {
              data = `geo:0,0?q=${encodeURIComponent(geo.address)}${geo.label ? ` (${geo.label})` : ""}`;
            } else {
              data = `geo:${geo.latitude},${geo.longitude}${geo.label ? `?q=${geo.latitude},${geo.longitude}(${encodeURIComponent(geo.label)})` : ""}`;
            }
          } else
            data = `BEGIN:VCARD\nVERSION:3.0\nFN:${contact.fn} ${contact.ln}\n${rawTel ? `TEL:${contact.phonePrefix.split("-")[0]}${rawTel}\n` : ""}${contact.emailUser ? `EMAIL:${contact.emailUser}${contact.emailDomain}\n` : ""}END:VCARD`;
          try {
            new QRious({
              element: qrRef.current,
              value: data,
              size: 600,
              level: "H",
              foreground: "#000000",
              background: "#ffffff",
            });
          } catch (e) {
            console.error("QR error:", e);
          }
          return () => clearTimeout(timer);
        }, [
          url,
          contact,
          wifi,
          sms,
          crypto,
          geo,
          activeTab,
          protocol,
          isDarkMode,
          hasData,
          rawTel,
          smsRawTel,
        ]);

        const copyToClipboard = () => {
          if (!qrRef.current) return;
          qrRef.current.toBlob((blob) => {
            navigator.clipboard
              .write([new ClipboardItem({ "image/png": blob })])
              .then(() => {
                setCopyStatus(true);
                setTimeout(() => setCopyStatus(false), 2000);
              });
          });
        };

        const shareQR = () => {
          if (!qrRef.current) return;
          qrRef.current.toBlob(async (blob) => {
            const file = new File([blob], "qrcode.png", { type: "image/png" });
            if (navigator.canShare && navigator.canShare({ files: [file] })) {
              try {
                await navigator.share({ files: [file], title: "QR Code" });
              } catch (err) {}
            }
          });
        };

        const downloadPNG = () => {
          if (!qrRef.current || !hasData) return;
          const a = document.createElement("a");
          a.download = "qrcode.png";
          a.href = qrRef.current.toDataURL();
          a.click();
        };

        const downloadSVG = () => {
          if (!qrRef.current || !hasData) return;
          const svg = `<svg xmlns="http://www.w3.org/2000/svg" width="600" height="600"><rect width="100%" height="100%" fill="white"/><image width="600" height="600" href="${qrRef.current.toDataURL()}"/></svg>`;
          const link = document.createElement("a");
          link.href = "data:image/svg+xml;base64," + btoa(svg);
          link.download = "qrcode.svg";
          link.click();
        };

        const inputClass = (valid, hasValue) =>
          `w-full p-4 rounded-xl border-2 outline-none transition-all font-semibold ${isDarkMode ? `bg-emerald-900/30 ${hasValue ? (valid ? "border-emerald-500/50" : "border-red-500/50") : "border-emerald-800/60"} text-emerald-50 focus:border-emerald-400` : `bg-white ${hasValue ? (valid ? "border-emerald-500" : "border-red-400") : "border-emerald-100"} text-emerald-900 focus:border-emerald-500`}`;

        const protocolOptions = [
          { value: "https://", label: "https://" },
          { value: "http://", label: "http://" },
          { value: "ftp://", label: "ftp://" },
          { value: "ftps://", label: "ftps://" },
          { value: "mailto:", label: "mailto:" },
          { value: "tel:", label: "tel:" },
          { value: "sms:", label: "sms:" },
        ];
        const emailDomainOptions = [
          { value: "@gmail.com", label: "@gmail.com" },
          { value: "@outlook.com", label: "@outlook.com" },
          { value: "@yahoo.com", label: "@yahoo.com" },
          { value: "@icloud.com", label: "@icloud.com" },
          { value: "@proton.me", label: "@proton.me" },
          { value: "@hotmail.com", label: "@hotmail.com" },
          { value: "@aol.com", label: "@aol.com" },
          { value: "@zoho.com", label: "@zoho.com" },
          { value: "@gmx.com", label: "@gmx.com" },
          { value: "@yandex.com", label: "@yandex.com" },
          { value: "@mail.com", label: "@mail.com" },
          { value: "@tutanota.com", label: "@tutanota.com" },
          { value: "@fastmail.com", label: "@fastmail.com" },
          { value: "@runbox.com", label: "@runbox.com" },
          { value: "@mailfence.com", label: "@mailfence.com" },
        ];
        const securityOptions = [
          { value: "WPA(2)", label: "WPA/WPA2" },
          { value: "WPA2", label: "WPA2" },
          { value: "WPA3", label: "WPA3" },
          { value: "WEP", label: "WEP" },
          { value: "Public (No Password)", label: "No Password" },
        ];
        const blockchainOptions = [
          { value: "BTC", label: "Bitcoin" },
          { value: "ETH", label: "Ethereum" },
          { value: "USDT", label: "Tether" },
          { value: "BNB", label: "BNB" },
          { value: "SOLANA", label: "Solana" },
          { value: "XRP", label: "XRP" },
          { value: "ADA", label: "Cardano" },
          { value: "DOGE", label: "Dogecoin" },
          { value: "TRX", label: "Tron" },
          { value: "DOT", label: "Polkadot" },
          { value: "LTC", label: "Litecoin" },
          { value: "AVAX", label: "Avalanche" },
        ];
        const phoneOptions = Object.entries(COUNTRY_DATA).map(([k, v]) => ({
          value: k,
          label: v.label,
          displayLabel: `${v.label.split(") ")[0]}) ${v.shortLabel}`,
          shortLabel: `(${k.split("-")[0]})`,
          flagCode: v.flag,
        }));

        return (
          <div className="flex items-center justify-center p-2 sm:p-4">
            <div
              className={`w-full max-w-5xl rounded-2xl sm:rounded-[2.5rem] border-2 glass flex flex-col lg:flex-row shadow-2xl ${isDarkMode ? "bg-emerald-950/40 border-emerald-800/40" : "bg-white border-emerald-200"}`}
            >
              <div className="p-4 sm:p-8 lg:p-12 lg:w-3/5 space-y-6 sm:space-y-8">
                <div className="flex justify-between items-center">
                  <h1
                    className={`text-2xl sm:text-3xl font-extrabold tracking-tight ${isDarkMode ? "text-white" : "text-emerald-900"}`}
                  >
                    QR Creator
                  </h1>
                  <button
                    onClick={() => setIsDarkMode(!isDarkMode)}
                    className="p-3 rounded-xl bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500/20 transition-all"
                  >
                    <Icon
                      name={isDarkMode ? "sun" : "moon"}
                      className="w-5 h-5"
                    />
                  </button>
                </div>
                <div className="flex gap-2 p-1.5 bg-black/10 rounded-2xl overflow-x-auto custom-scroll">
                  {[
                    { id: "url", icon: "link", label: "Web" },
                    { id: "contact", icon: "user", label: "Card" },
                    { id: "wifi", icon: "wifi", label: "WiFi" },
                    { id: "sms", icon: "message-square", label: "SMS" },
                    { id: "crypto", icon: "bitcoin", label: "Crypto" },
                    { id: "geo", icon: "map-pin", label: "Geo" },
                  ].map((tab) => (
                    <button
                      key={tab.id}
                      onClick={() => setActiveTab(tab.id)}
                      className={`flex-shrink-0 px-4 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${activeTab === tab.id ? "bg-emerald-500 text-white shadow-md" : "text-emerald-500/60 hover:bg-emerald-500/5"}`}
                    >
                      <Icon name={tab.icon} className="w-4 h-4" />
                      <span className="hidden sm:inline text-xs">
                        {tab.label}
                      </span>
                    </button>
                  ))}
                </div>
                <div className="space-y-6">
                  {activeTab === "url" && (
                    <div className="space-y-2">
                      <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                        {protocol === "mailto:"
                          ? "Email Address"
                          : protocol === "tel:" || protocol === "sms:"
                            ? "Phone Number"
                            : "Website URL"}
                      </label>
                      <div className="flex gap-3">
                        <CustomSelect
                          value={protocol}
                          options={protocolOptions}
                          isDarkMode={isDarkMode}
                          onChange={setProtocol}
                          minWidth="min-w-[120px]"
                        />
                        <input
                          type="text"
                          placeholder={getUrlPlaceholder()}
                          className={inputClass(isUrlValid, url.length > 0)}
                          value={url}
                          onChange={(e) =>
                            setUrl(e.target.value.replace(/\s/g, ""))
                          }
                        />
                      </div>
                    </div>
                  )}
                  {activeTab === "wifi" && (
                    <div className="space-y-5">
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Network Name (SSID)
                        </label>
                        <input
                          type="text"
                          placeholder="MyWiFiNetwork"
                          className={inputClass(
                            wifi.ssid.length > 0,
                            wifi.ssid.length > 0,
                          )}
                          value={wifi.ssid}
                          onChange={(e) =>
                            setWifi({ ...wifi, ssid: e.target.value })
                          }
                        />
                      </div>
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Password
                        </label>
                        <input
                          type="text"
                          placeholder="Optional"
                          className={inputClass(true, wifi.password.length > 0)}
                          value={wifi.password}
                          onChange={(e) =>
                            setWifi({ ...wifi, password: e.target.value })
                          }
                        />
                      </div>
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Security Type
                        </label>
                        <CustomSelect
                          value={wifi.security}
                          options={securityOptions}
                          isDarkMode={isDarkMode}
                          onChange={(v) => setWifi({ ...wifi, security: v })}
                          minWidth="w-full"
                        />
                      </div>
                    </div>
                  )}
                  {activeTab === "contact" && (
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          First Name
                        </label>
                        <input
                          type="text"
                          placeholder="John"
                          className={inputClass(true, contact.fn)}
                          value={contact.fn}
                          onChange={(e) =>
                            setContact({
                              ...contact,
                              fn:
                                e.target.value.charAt(0).toUpperCase() +
                                e.target.value.slice(1),
                            })
                          }
                        />
                      </div>
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Last Name
                        </label>
                        <input
                          type="text"
                          placeholder="DOE"
                          className={inputClass(true, contact.ln)}
                          value={contact.ln}
                          onChange={(e) =>
                            setContact({
                              ...contact,
                              ln: e.target.value.toUpperCase(),
                            })
                          }
                        />
                      </div>
                      <div className="md:col-span-2 space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Phone Number
                        </label>
                        <div className="flex gap-3">
                          <CustomSelect
                            value={contact.phonePrefix}
                            options={phoneOptions}
                            isDarkMode={isDarkMode}
                            onChange={(v) =>
                              setContact({
                                ...contact,
                                phonePrefix: v,
                                tel: "",
                              })
                            }
                            minWidth="min-w-[170px]"
                            isPhoneSelector={true}
                          />
                          <input
                            type="tel"
                            placeholder={currentCountry.placeholder}
                            className={inputClass(
                              isPhoneValid,
                              contact.tel.length > 0,
                            )}
                            value={contact.tel}
                            onChange={(e) => {
                              const digits = e.target.value.replace(
                                /[^0-9]/g,
                                "",
                              );
                              if (digits.length <= currentCountry.max)
                                setContact({
                                  ...contact,
                                  tel: formatPhone(
                                    digits,
                                    currentCountry.pattern,
                                  ),
                                });
                            }}
                          />
                        </div>
                      </div>
                      <div className="md:col-span-2 space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Email Address
                        </label>
                        <div className="flex gap-3">
                          <input
                            type="text"
                            placeholder="username"
                            className={inputClass(
                              isEmailValid,
                              contact.emailUser.length > 0,
                            )}
                            value={contact.emailUser}
                            onChange={(e) =>
                              setContact({
                                ...contact,
                                emailUser: e.target.value.replace(
                                  /[^a-zA-Z0-9._%+-]/g,
                                  "",
                                ),
                              })
                            }
                          />
                          <CustomSelect
                            value={contact.emailDomain}
                            options={emailDomainOptions}
                            isDarkMode={isDarkMode}
                            onChange={(v) =>
                              setContact({ ...contact, emailDomain: v })
                            }
                            minWidth="min-w-[180px]"
                            direction="up"
                          />
                        </div>
                      </div>
                    </div>
                  )}
                  {activeTab === "sms" && (
                    <div className="space-y-5">
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Phone Number
                        </label>
                        <div className="flex gap-3">
                          <CustomSelect
                            value={sms.phonePrefix}
                            options={phoneOptions}
                            isDarkMode={isDarkMode}
                            onChange={(v) =>
                              setSms({ ...sms, phonePrefix: v, tel: "" })
                            }
                            minWidth="min-w-[170px]"
                            isPhoneSelector={true}
                          />
                          <input
                            type="tel"
                            placeholder={smsCountry.placeholder}
                            className={inputClass(
                              smsRawTel.length >= 8 &&
                                smsRawTel.length <= smsCountry.max,
                              sms.tel.length > 0,
                            )}
                            value={sms.tel}
                            onChange={(e) => {
                              const digits = e.target.value.replace(
                                /[^0-9]/g,
                                "",
                              );
                              if (digits.length <= smsCountry.max)
                                setSms({
                                  ...sms,
                                  tel: formatPhone(digits, smsCountry.pattern),
                                });
                            }}
                          />
                        </div>
                      </div>
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest flex justify-between">
                          <span>Message</span>
                          <span
                            className={
                              sms.message.length > 160
                                ? "text-red-500"
                                : "text-emerald-500/60"
                            }
                          >
                            {sms.message.length}/160
                          </span>
                        </label>
                        <textarea
                          placeholder="Your message here..."
                          className={`${inputClass(sms.message.length > 0 && sms.message.length <= 160, sms.message.length > 0)} resize-none h-32`}
                          value={sms.message}
                          maxLength={160}
                          onChange={(e) =>
                            setSms({ ...sms, message: e.target.value })
                          }
                        />
                      </div>
                    </div>
                  )}
                  {activeTab === "crypto" && (
                    <div className="space-y-5">
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Blockchain
                        </label>
                        <CustomSelect
                          value={crypto.blockchain}
                          options={blockchainOptions}
                          isDarkMode={isDarkMode}
                          onChange={(v) =>
                            setCrypto({ ...crypto, blockchain: v, address: "" })
                          }
                          minWidth="w-full"
                        />
                      </div>
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Wallet Address
                        </label>
                        <input
                          type="text"
                          placeholder={
                            crypto.blockchain === "bitcoin"
                              ? "bc1q... or 1A1z..."
                              : crypto.blockchain === "solana"
                                ? "7xKX... (32-44)"
                                : "0x742d... (42 chars)"
                          }
                          className={inputClass(
                            isCryptoValid,
                            crypto.address.length > 0,
                          )}
                          value={crypto.address}
                          onChange={(e) =>
                            setCrypto({
                              ...crypto,
                              address: e.target.value.trim(),
                            })
                          }
                        />
                      </div>
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Amount (Optional)
                        </label>
                        <input
                          type="text"
                          placeholder="0.01"
                          className={inputClass(true, crypto.amount.length > 0)}
                          value={crypto.amount}
                          onChange={(e) => {
                            const val = e.target.value.replace(/[^0-9.]/g, "");
                            if ((val.match(/\./g) || []).length <= 1)
                              setCrypto({ ...crypto, amount: val });
                          }}
                        />
                      </div>
                    </div>
                  )}
                  {activeTab === "geo" && (
                    <div className="space-y-5">
                      <div className="flex gap-2 p-1 bg-black/10 rounded-xl">
                        <button
                          onClick={() => setGeo({ ...geo, useAddress: false })}
                          className={`flex-1 py-2 px-3 rounded-lg font-bold text-xs transition ${!geo.useAddress ? "bg-emerald-500 text-white" : "text-emerald-500/60"}`}
                        >
                          Coordinates
                        </button>
                        <button
                          onClick={() => setGeo({ ...geo, useAddress: true })}
                          className={`flex-1 py-2 px-3 rounded-lg font-bold text-xs transition ${geo.useAddress ? "bg-emerald-500 text-white" : "text-emerald-500/60"}`}
                        >
                          Address
                        </button>
                      </div>
                      {!geo.useAddress ? (
                        <>
                          <div className="grid grid-cols-2 gap-3">
                            <div className="space-y-2">
                              <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                                Latitude
                              </label>
                              <input
                                type="number"
                                step="any"
                                placeholder="48.8566"
                                className={inputClass(
                                  geo.latitude !== "" &&
                                    parseFloat(geo.latitude) >= -90 &&
                                    parseFloat(geo.latitude) <= 90,
                                  geo.latitude !== "",
                                )}
                                value={geo.latitude}
                                onChange={(e) =>
                                  setGeo({ ...geo, latitude: e.target.value })
                                }
                              />
                            </div>
                            <div className="space-y-2">
                              <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                                Longitude
                              </label>
                              <input
                                type="number"
                                step="any"
                                placeholder="2.3522"
                                className={inputClass(
                                  geo.longitude !== "" &&
                                    parseFloat(geo.longitude) >= -180 &&
                                    parseFloat(geo.longitude) <= 180,
                                  geo.longitude !== "",
                                )}
                                value={geo.longitude}
                                onChange={(e) =>
                                  setGeo({ ...geo, longitude: e.target.value })
                                }
                              />
                            </div>
                          </div>
                          <button
                            onClick={() => {
                              if (navigator.geolocation) {
                                navigator.geolocation.getCurrentPosition(
                                  (pos) =>
                                    setGeo({
                                      ...geo,
                                      latitude: pos.coords.latitude.toFixed(6),
                                      longitude:
                                        pos.coords.longitude.toFixed(6),
                                    }),
                                  (err) =>
                                    alert(
                                      "Unable to retrieve location. Check permissions.",
                                    ),
                                );
                              } else alert("Geolocation not supported.");
                            }}
                            className={`w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all border-2 ${isDarkMode ? "bg-emerald-900/30 border-emerald-500/40 text-emerald-50 hover:bg-emerald-900/50" : "bg-white border-emerald-200 text-emerald-900 hover:border-emerald-400"}`}
                          >
                            <Icon name="crosshair" className="w-4 h-4" /> Use my
                            location
                          </button>
                        </>
                      ) : (
                        <div className="space-y-2">
                          <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                            Address
                          </label>
                          <textarea
                            placeholder="123 Main St, Paris, France"
                            className={`${inputClass(geo.address.length > 5, geo.address.length > 0)} resize-none h-20`}
                            value={geo.address}
                            onChange={(e) =>
                              setGeo({ ...geo, address: e.target.value })
                            }
                          />
                        </div>
                      )}
                      <div className="space-y-2">
                        <label className="text-[10px] font-bold uppercase text-emerald-500/80 tracking-widest">
                          Label (Optional)
                        </label>
                        <input
                          type="text"
                          placeholder="Meeting Point..."
                          className={inputClass(true, geo.label.length > 0)}
                          value={geo.label}
                          onChange={(e) =>
                            setGeo({ ...geo, label: e.target.value })
                          }
                        />
                      </div>
                    </div>
                  )}
                </div>
              </div>
              <div
                className={`p-10 lg:w-2/5 flex flex-col items-center justify-center gap-4 rounded-b-[2.5rem] lg:rounded-b-none lg:rounded-r-[2.5rem] ${isDarkMode ? "bg-emerald-900/20" : "bg-emerald-100/30"}`}
              >
                <div className="relative w-full max-w-[280px] mb-4 aspect-square bg-white p-6 rounded-[2.5rem] shadow-xl flex items-center justify-center border-4 border-emerald-500/10">
                  {hasData ? (
                    <>
                      <canvas
                        ref={qrRef}
                        className={isGenerating ? "qr-animate" : ""}
                      ></canvas>
                      <div className="absolute top-3 right-3 bg-emerald-500 text-white px-2 py-1 rounded-full text-[8px] font-black">
                        LVL H
                      </div>
                    </>
                  ) : (
                    <div className="flex flex-col items-center opacity-30">
                      <Icon
                        name="qr-code"
                        className="w-20 h-20 text-emerald-900"
                      />
                      <p className="mt-4 text-[9px] font-black uppercase text-emerald-900">
                        Awaiting Data
                      </p>
                    </div>
                  )}
                </div>
                <div className="grid grid-cols-2 gap-2 w-full max-w-[280px]">
                  <button
                    disabled={!hasData}
                    onClick={copyToClipboard}
                    className={`py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all border-2 ${hasData ? (copyStatus ? "bg-emerald-100 text-emerald-600 border-emerald-500" : "bg-white text-emerald-600 border-emerald-500/20 hover:border-emerald-500/40") : "bg-slate-800 text-slate-500 border-transparent cursor-not-allowed"}`}
                  >
                    <Icon
                      name={copyStatus ? "check" : "copy"}
                      className="w-4 h-4"
                    />{" "}
                    {copyStatus ? "Done" : "Copy"}
                  </button>
                  <button
                    disabled={!hasData}
                    onClick={shareQR}
                    className={`py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all border-2 ${hasData ? "bg-white text-emerald-600 border-emerald-500/20 hover:border-emerald-500/40" : "bg-slate-800 text-slate-500 border-transparent cursor-not-allowed"}`}
                  >
                    <Icon name="share-2" className="w-4 h-4" /> Share
                  </button>
                </div>
                <button
                  disabled={!hasData}
                  onClick={downloadPNG}
                  className={`w-full max-w-[280px] py-4 rounded-xl font-bold flex items-center justify-center gap-3 transition-all ${hasData ? "bg-emerald-500 hover:bg-emerald-400 text-white shadow-lg" : "bg-slate-800 text-slate-500 cursor-not-allowed"}`}
                >
                  <Icon name="download" className="w-5 h-5" /> Download PNG
                </button>
                <button
                  disabled={!hasData}
                  onClick={downloadSVG}
                  className={`w-full max-w-[280px] py-2 rounded-xl font-bold text-xs flex items-center justify-center gap-2 transition-all ${hasData ? "text-emerald-500/80 hover:text-emerald-500" : "text-transparent cursor-not-allowed"}`}
                >
                  <Icon name="file-code" className="w-4 h-4" /> Export as SVG
                </button>
              </div>
            </div>
          </div>
        );
      };

      ReactDOM.createRoot(document.getElementById("root")).render(
        React.createElement(App),
      );
    </script>
  </body>
</html>
